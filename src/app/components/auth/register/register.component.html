<h1>Register</h1>

<form #registerForm="ngForm" (ngSubmit)="register()">

	<div class="form-group">
    <label>First name</label>
    <input
    	#firstName="ngModel" 
    	[(ngModel)]="newUser.firstName" 
    	name='firstName' 
    	type="text" 
    	class="form-control" 
    	required>
  </div>

  <div *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)" class="alert alert-danger">

    <div *ngIf="firstName.errors.required">
      First name is required.
    </div>

  </div>

  <div class="form-group">
    <label>Last name</label>
    <input
    	#lastName="ngModel" 
    	[(ngModel)]="newUser.lastName" 
    	name='lastName' 
    	type="text" 
    	class="form-control" 
    	required>
  </div>

  <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)" class="alert alert-danger">

    <div *ngIf="lastName.errors.required">
      Last name is required.
    </div>

  </div>

  <div class="form-group">
    <label>Email address</label>
    <input
    	#email="ngModel" 
    	[(ngModel)]="newUser.email" 
    	name='email' 
    	type="email" 
    	class="form-control" 
    	required
      email>
  </div>

  <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger">

    <div *ngIf="email.errors.required">
      Email is required.
    </div>

    <div *ngIf="email.errors.email && email.dirty">
      Invalid email format!
    </div>

  </div>

  <div class="form-group">
    <label>Password</label>
    <input
    	#password="ngModel" 
    	[(ngModel)]="newUser.password" 
    	name='password' 
    	type="password" 
    	class="form-control" 
    	required
    	pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$"
    	>
  </div>

  <div *ngIf="password.invalid && (password.dirty || password.touched)" class="alert alert-danger">
	  <div *ngIf="password.errors.required">
	    Password is required.
	  </div>
	  <div *ngIf="password.errors.pattern">
	    Password must be minimum 8 characters and at least 1 number.
	  </div>
	</div>

	<div class="form-group">
    <label>Confirm password</label>
    <input
    	#confirmPassword="ngModel" 
    	[(ngModel)]="newUser.confirmPassword" 
    	[equalTo]="password"
    	name='confirmPassword' 
    	type="password" 
    	class="form-control" 
    	required
    	pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$"
    	>
  </div>

  <div *ngIf="confirmPassword.invalid && (confirmPassword.dirty || confirmPassword.touched)" class="alert alert-danger">
	  <div *ngIf="confirmPassword.errors.required">
	    Password is required.
	  </div>
	  <div *ngIf="confirmPassword.errors.pattern">
	    Password must be minimum 8 characters and at least 1 number.
	  </div>
	  <div *ngIf="confirmPassword.errors.equalTo && password.dirty">
        Confirmed password does not match!
      </div>
	</div>

	<div class="form-group">

		<label>Accepted terms and conditions</label>
		<input 
			#terms="ngModel"
			[(ngModel)]="newUser.terms"
			type="checkbox" 
			name="terms"
			required 
			>
	</div>

	<div *ngIf="terms.invalid && (terms.dirty || terms.touched)" class="alert alert-danger">
	  <div *ngIf="terms.errors.required">
	    Accepting terms and conditions is mandatory.
	  </div>
	</div>

  <button type="submit" class="btn btn-primary" [disabled]="!registerForm.valid" >Register</button>
</form>